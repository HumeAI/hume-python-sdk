diff --git a/src/hume/empathic_voice/chat/client.py b/src/hume/empathic_voice/chat/client.py
index 43a9cf2..8c64403 100644
--- a/src/hume/empathic_voice/chat/client.py
+++ b/src/hume/empathic_voice/chat/client.py
@@ -1,16 +1,18 @@
 # This file was auto-generated by Fern from our API Definition.
 
 import typing
+import urllib.parse
 from contextlib import asynccontextmanager, contextmanager
 
-import httpx
 import websockets.exceptions
 import websockets.sync.client as websockets_sync_client
 from ...core.api_error import ApiError
 from ...core.client_wrapper import AsyncClientWrapper, SyncClientWrapper
+from ...core.jsonable_encoder import jsonable_encoder
+from ...core.query_encoder import encode_query
+from ...core.remove_none_from_dict import remove_none_from_dict
 from ...core.request_options import RequestOptions
 from ...core.serialization import convert_and_respect_annotation_metadata
-from ...core.query_encoder import single_query_encoder
 from ..types.connect_session_settings import ConnectSessionSettings
 from .raw_client import AsyncRawChatClient, RawChatClient
 from .socket_client import AsyncChatSocketClient, ChatSocketClient
@@ -103,7 +105,7 @@ class ChatClient:
 
         api_key : typing.Optional[str]
 
-        session_settings : ConnectSessionSettings
+        session_settings : typing.Optional[ConnectSessionSettings]
 
         request_options : typing.Optional[RequestOptions]
             Request-specific configuration.
@@ -113,28 +115,32 @@ class ChatClient:
         ChatSocketClient
         """
         ws_url = self._raw_client._client_wrapper.get_environment().evi + "/chat"
-        query_params = httpx.QueryParams()
-        if access_token is not None:
-            query_params = query_params.add("access_token", access_token)
-        if allow_connection is not None:
-            query_params = query_params.add("allow_connection", allow_connection)
-        if config_id is not None:
-            query_params = query_params.add("config_id", config_id)
-        if config_version is not None:
-            query_params = query_params.add("config_version", config_version)
-        if event_limit is not None:
-            query_params = query_params.add("event_limit", event_limit)
-        if resumed_chat_group_id is not None:
-            query_params = query_params.add("resumed_chat_group_id", resumed_chat_group_id)
-        if verbose_transcription is not None:
-            query_params = query_params.add("verbose_transcription", verbose_transcription)
-        if api_key is not None:
-            query_params = query_params.add("api_key", api_key)
-        if session_settings is not None:
-            flattened_params = single_query_encoder("session_settings", session_settings)
-            for param_key, param_value in flattened_params:
-                query_params = query_params.add(param_key, param_value)
-        ws_url = ws_url + f"?{query_params}"
+        _encoded_query_params = encode_query(
+            jsonable_encoder(
+                remove_none_from_dict(
+                    {
+                        "access_token": access_token,
+                        "allow_connection": allow_connection,
+                        "config_id": config_id,
+                        "config_version": config_version,
+                        "event_limit": event_limit,
+                        "resumed_chat_group_id": resumed_chat_group_id,
+                        "verbose_transcription": verbose_transcription,
+                        "api_key": api_key,
+                        "session_settings": convert_and_respect_annotation_metadata(
+                            object_=session_settings, annotation=ConnectSessionSettings, direction="write"
+                        ),
+                        **(
+                            request_options.get("additional_query_parameters", {}) or {}
+                            if request_options is not None
+                            else {}
+                        ),
+                    }
+                )
+            )
+        )
+        if _encoded_query_params:
+            ws_url = ws_url + "?" + urllib.parse.urlencode(_encoded_query_params)
         headers = self._raw_client._client_wrapper.get_headers()
         if request_options and "additional_headers" in request_options:
             headers.update(request_options["additional_headers"])
@@ -248,30 +254,32 @@ class AsyncChatClient:
         AsyncChatSocketClient
         """
         ws_url = self._raw_client._client_wrapper.get_environment().evi + "/chat"
-        query_params = httpx.QueryParams()
-        if access_token is not None:
-            query_params = query_params.add("access_token", access_token)
-        if allow_connection is not None:
-            query_params = query_params.add("allow_connection", allow_connection)
-        if config_id is not None:
-            query_params = query_params.add("config_id", config_id)
-        if config_version is not None:
-            query_params = query_params.add("config_version", config_version)
-        if event_limit is not None:
-            query_params = query_params.add("event_limit", event_limit)
-        if resumed_chat_group_id is not None:
-            query_params = query_params.add("resumed_chat_group_id", resumed_chat_group_id)
-        if verbose_transcription is not None:
-            query_params = query_params.add("verbose_transcription", verbose_transcription)
-        if api_key is not None:
-            query_params = query_params.add("api_key", api_key)
-
-        if session_settings is not None:
-            flattened_params = single_query_encoder("session_settings", session_settings)
-            for param_key, param_value in flattened_params:
-                query_params = query_params.add(param_key, param_value)
-
-        ws_url = ws_url + f"?{query_params}"
+        _encoded_query_params = encode_query(
+            jsonable_encoder(
+                remove_none_from_dict(
+                    {
+                        "access_token": access_token,
+                        "allow_connection": allow_connection,
+                        "config_id": config_id,
+                        "config_version": config_version,
+                        "event_limit": event_limit,
+                        "resumed_chat_group_id": resumed_chat_group_id,
+                        "verbose_transcription": verbose_transcription,
+                        "api_key": api_key,
+                        "session_settings": convert_and_respect_annotation_metadata(
+                            object_=session_settings, annotation=ConnectSessionSettings, direction="write"
+                        ),
+                        **(
+                            request_options.get("additional_query_parameters", {}) or {}
+                            if request_options is not None
+                            else {}
+                        ),
+                    }
+                )
+            )
+        )
+        if _encoded_query_params:
+            ws_url = ws_url + "?" + urllib.parse.urlencode(_encoded_query_params)
         headers = self._raw_client._client_wrapper.get_headers()
         if request_options and "additional_headers" in request_options:
             headers.update(request_options["additional_headers"])
